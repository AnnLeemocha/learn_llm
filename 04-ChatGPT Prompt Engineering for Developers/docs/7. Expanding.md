# Expanding 擴展
:::info
將簡短的文字（如評論、指令、主題）輸入大型語言模型，生成一段較長的文字（如 Email、故事、文章等）。
:::

可應用於：
* 自訂對客戶電子郵件的自動回复
    * 根據評論內容與情緒，生成專業、個人化的 Email
* 創意發想 & 腦力激盪 
    * 擴寫點子、故事開頭、自動產生文本草稿
* 宣傳文、說明文擴寫 
    * 根據產品關鍵字產出完整說明、文案
* 實驗語言模型創造力 
    * 透過調整 temperature 產生不同風格、語氣的文字

---
    
## 參數: temperature
:::info
這個參數可以調整模型產生回應的多樣性。可以把 temperature 想像成模型的「探索程度」或「隨機性」。
:::
* 控制輸出中「探索 vs. 穩定性」的權衡
* 值域： 0.0 ~ 1.0（甚至更高）
    * 值越小: 適用於需要可靠性、可預測性的任務。
        * 精準回應、穩定產出（如 API 輸出）
    * 值越大: 對於需要多樣性(多變)的任務。
        * 創意寫作、廣告文案
        * 腦力激盪、點子擴寫
        * 可能更「分心」

| temperature | 行為描述 | 特性 | 
| -------- | -------- | -------- |
| 0.0 | 非常保守 → 永遠給最可能的回應 | 穩定、一致、可預期、可控、可重現 |
| 0.7 | 有些創造力 → 選擇可能但非最常見字詞 | 多樣、有變化、偏創意 |
| 1.0+ | 高度創造性 → 甚至跳脫預期 | 更具風格、但不穩定（可能出錯或分心） |

### 說明範例
![Example of temperature parameters](images/Example%20of%20temperature%20parameters.png)

---

## 自訂對客戶電子郵件的自動回复
根據顧客留下的評論內容與評論的情緒，請語言模型產生個別化的回應。

前提輸入：
* 評論內容: 
  一段來自顧客的產品評論
* 情緒: 
  這則評論的情緒（正面、中立、負面）

也可以只輸入評論，讓提示語同時萃取情緒與撰寫郵件。
```python
# given the sentiment from the lesson on "inferring",
# and the original customer message, customize the email
sentiment = "negative"

# review for a blender
review = f"""
So, they still had the 17 piece system on seasonal \
sale for around $49 in the month of November, about \
half off, but for some reason (call it price gouging) \
around the second week of December the prices all went \
up to about anywhere from between $70-$89 for the same \
system. And the 11 piece system went up around $10 or \
so in price also from the earlier sale price of $29. \
So it looks okay, but if you look at the base, the part \
where the blade locks into place doesn’t look as good \
as in previous editions from a few years ago, but I \
plan to be very gentle with it (example, I crush \
very hard items like beans, ice, rice, etc. in the \ 
blender first then pulverize them in the serving size \
I want in the blender then switch to the whipping \
blade for a finer flour, and use the cross cutting blade \
first when making smoothies, then use the flat blade \
if I need them finer/less pulpy). Special tip when making \
smoothies, finely cut and freeze the fruits and \
vegetables (if using spinach-lightly stew soften the \ 
spinach then freeze until ready for use-and if making \
sorbet, use a small to medium sized food processor) \ 
that you plan to use that way you can avoid adding so \
much ice if at all-when making your smoothie. \
After about a year, the motor was making a funny noise. \
I called customer service but the warranty expired \
already, so I had to buy another one. FYI: The overall \
quality has gone done in these types of products, so \
they are kind of counting on brand recognition and \
consumer loyalty to maintain sales. Got it in about \
two days.
"""
```
提示：
* 讓使用者知道這段內容是 AI 所生成的，是非常重要且透明的做法。
* 情緒是負面的情況下，建議對方聯繫客服。
```python
prompt = f"""
You are a customer service AI assistant.
Your task is to send an email reply to a valued customer.
Given the customer email delimited by ```, \
Generate a reply to thank the customer for their review.
If the sentiment is positive or neutral, thank them for \
their review.
If the sentiment is negative, apologize and suggest that \
they can reach out to customer service. 
Make sure to use specific details from the review.
Write in a concise and professional tone.
Sign the email as `AI customer agent`.
Customer review: ```{review}```
Review sentiment: {sentiment}
"""
response = get_completion(prompt)
print(response)
```

---

## 提醒模型使用客戶電子郵件中的詳細信息 (temperature 測試)
使用相同的提示與內容時，若將 temperature 設為 0，模型每次產生的內容都會一模一樣；但當 temperature 設為 0.7 時，模型會生成不同版本的回應。每次執行都可能看到風格或用詞略有差異的郵件，展現出更多樣化與創意。
```python
prompt = f"""
You are a customer service AI assistant.
Your task is to send an email reply to a valued customer.
Given the customer email delimited by ```, \
Generate a reply to thank the customer for their review.
If the sentiment is positive or neutral, thank them for \
their review.
If the sentiment is negative, apologize and suggest that \
they can reach out to customer service. 
Make sure to use specific details from the review.
Write in a concise and professional tone.
Sign the email as `AI customer agent`.
Customer review: ```{review}```
Review sentiment: {sentiment}
"""
response = get_completion(prompt, temperature=0.7)
print(response)
```


---

